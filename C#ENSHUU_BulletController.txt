using UnityEngine;
//ファイル名をBulletController.csに変更してからUnityEditorで使用すること。
/// <summary>
/// 弾丸を制御するコンポーネント
/// </summary>
public class BulletController : MonoBehaviour
{
    /// <summary>弾が飛ぶ速さ</summary>
    [SerializeField] float m_speed = 3f;
    /// <summary>弾の生存期間（秒）</summary>
    [SerializeField] float m_lifeTime = 2f;
    public Vector2 m_velocity;
    /// <summary>
    /// 向いている方向のフラグ
    /// </summary>
    public bool lookingRight = true;//ほかのコンポーネントからの右方向を向いている判定のフラグの値を受け取るための変数。

    void Start()
    {
        // 右方向に飛ばす
        Rigidbody2D rb = GetComponent<Rigidbody2D>();
        if (lookingRight)//右方向か否かによって進む方向を変える。
            m_velocity = Vector2.right * m_speed;
        else
            m_velocity = Vector2.left * m_speed;
        rb.velocity = m_velocity;
        // 生存期間が経過したら自分自身を破棄する
        Destroy(this.gameObject, m_lifeTime);
    }
}
